RewriteEngine On

# Hide .php extension
RewriteCond %{THE_REQUEST} /([^.]+)\.php [NC]
RewriteRule ^ /%1 [NC,L,R=301]

RewriteRule ^admin/?$ admin/index.php [NC,L]

# Clean URLs for root-level pages (allow optional trailing slash)
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^([^/]+)/?$ $1.php [NC,L]

# Handle admin directory (allow optional trailing slash)
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^admin/([^/]+)/?$ admin/$1.php [NC,L]
